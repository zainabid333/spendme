<div class="max-w-4xl mx-auto">
  <h2 class="text-2xl font-bold mb-6">Manage Expenses</h2>

  <form
    action="/expenses"
    method="POST"
    class="bg-white shadow rounded p-6 mb-8"
  >
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label for="amount" class="block mb-1">Amount:</label>
        <input
          type="number"
          id="amount"
          name="amount"
          step="0.01"
          required
          class="w-full px-3 py-2 border rounded"
        />
      </div>
      <div>
        <label for="description" class="block mb-1">Description:</label>
        <input
          type="text"
          id="description"
          name="description"
          required
          class="w-full px-3 py-2 border rounded"
        />
      </div>
      <div>
        <label for="category" class="block mb-1">Category:</label>
        <input
          type="text"
          id="category"
          name="category"
          required
          class="w-full px-3 py-2 border rounded"
        />
      </div>
      <div>
        <label for="date" class="block mb-1">Date:</label>
        <input
          type="date"
          id="date"
          name="date"
          required
          class="w-full px-3 py-2 border rounded"
        />
      </div>
    </div>
    <button
      type="submit"
      class="mt-4 bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600"
    >Add Expense</button>
  </form>

  <form
    action="/expenses/filter"
    method="GET"
    class="bg-white shadow rounded p-6 mb-8"
  >
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label for="search" class="block mb-1">Search:</label>
        <input
          type="text"
          id="search"
          name="search"
          placeholder="Search by description or category"
          class="w-full px-3 py-2 border rounded"
        />
      </div>
      <div>
        <label for="filter-date" class="block mb-1">Filter by Date:</label>
        <input
          type="date"
          id="filter-date"
          name="filter-date"
          class="w-full px-3 py-2 border rounded"
        />
      </div>
    </div>
    <button
      type="submit"
      class="mt-4 bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600"
    >Apply Filters</button>
  </form>

  <div class="bg-white shadow rounded p-6">
    <h3 class="text-xl font-semibold mb-4">Your Expenses</h3>
    <div class="overflow-x-auto">
      <table class="w-full table-auto">
        <thead>
          <tr class="bg-gray-200">
            <th class="px-4 py-2 text-left">Description</th>
            <th class="px-4 py-2 text-left">Amount</th>
            <th class="px-4 py-2 text-left">Category</th>
            <th class="px-4 py-2 text-left">Date</th>
          </tr>
        </thead>
        <tbody>
          {{#each expenses}}
            <tr>
              <td class="border px-4 py-2">{{this.description}}</td>
              <td class="border px-4 py-2">${{this.amount}}</td>
              <td class="border px-4 py-2">{{this.category}}</td>
              <td class="border px-4 py-2">{{formatDate this.date}}</td>
              <td>
                <button
                  class="delete-expense"
                  data-id="{{this.id}}"
                >Delete</button>
              </td>
            </tr>
          {{else}}
            <tr>
              <td colspan="4" class="border px-4 py-2 text-center">No expenses
                recorded yet.</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</div>